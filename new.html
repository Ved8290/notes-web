<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New User </title>
    <link rel="stylesheet" href="new.css">
</head>
<body>
    <div class="container">
<div class="heading">

</div>
<div class="main">
<div class="mainleft">
    <img src="New folder/6325230-removebg-preview (1).png" alt="">
</div>
<div class="mainright">
    <div class="inp">
        <h1 id="nh">
            New User..
        </h1>

        <input type="text" required placeholder="Your Name" id="name">
        <input type="email" required placeholder="Enter Your Email" id="email">
        <input type="date"  max="2006-12-31"  min="1970-12-31"required placeholder=" DOB"  id="dob">
        <input type="number" pattern="[0-9]{3}-[0-9]{2}-[0-9]{3}" placeholder="Your mobail No." id="mobail">
        <input type="password" required placeholder="Create strong password" id="password">

    </div>
    <div class="lin">
      <input type="checkbox" onclick="showpassword()" >Show password     
    
        <button id="frog">forgot password</button></div>
        
                    <div class="btn">
                        
                        
                        
                        <button id="new"> Create Account </button>
                       <a href="log.html"> <button id="login">Login</button></a>
                        </div>
                        <p id="pf">*  Enter your email and click on forgot password to reset your Password</p>
                        </div>
</div>


</div>


    </div>

    <script>
        function showpassword(){
            var x=document.getElementById("password");
            if(x.type==="password"){
                x.type="text"
            }else{
                x.type="password";

            }
        }
    </script>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase/auth"></script>

    
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase/auth"></script>

    <script type="module" >


        
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword , sendPasswordResetEmail , sendEmailVerification } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
  import { getDatabase ,set , ref,get } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyCHPiWo28mcgmDwmSQ7OaDNKvLb3w6_DBc",
    authDomain: "notes-user.firebaseapp.com",
    projectId: "notes-user",
    storageBucket: "notes-user.appspot.com",
    messagingSenderId: "1065283327239",
    appId: "1:1065283327239:web:f78f42e7832df43f65a1a2"
  };


  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);


  
  
  

  document.getElementById("new").addEventListener('click',(e)=>{
    var email=document.getElementById("email").value;
var password=document.getElementById("password").value; 

const db=getDatabase(app)

set( ref(db, 'user/'+document.getElementById("name").value),
{
  name: document.getElementById("name").value,
  password: document.getElementById("password").value,
  email: document.getElementById("email").value,
  phone: document.getElementById("mobail").value,
  dob: document.getElementById("dob").value,
})

createUserWithEmailAndPassword(auth, email, password)
.then((userCredential) => {
// Signed in 
const user = userCredential.user;





alert(" Your Account Created Successfully");
window.location.replace("main.html")
// ...
})
.catch((error) => {
const errorCode = error.code;
const errorMessage = error.message;
alert(error.message)
// ..
});
  })


  document.getElementById("frog").addEventListener('click',(e)=>{
var email=document.getElementById("email").value;
    sendPasswordResetEmail(auth, email)
  .then(() => {
  alert("Password reset email sent to your email !");
    // ..
  })
  .catch((error) => {
    const errorCode = error.code;
    const errorMessage = error.message;
    // ..
  });


  })




</script>





    
</body>
</html>